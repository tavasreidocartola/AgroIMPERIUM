<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AGRO IMPERIUM</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #c9f0c5;
    }
    #farm {
      display: grid;
      grid-template-columns: repeat(5, 80px);
      gap: 10px;
      justify-content: center;
      margin-top: 30px;
    }
    .tile {
      width: 80px;
      height: 80px;
      background-color: #7cfc00;
      border: 2px solid #4CAF50;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }
    .planted {
      background-color: #deb887;
    }
    .grown {
      background-color: #f4d03f;
    }
    #money {
      font-size: 20px;
      margin-top: 20px;
    }
    #store {
      margin-top: 20px;
    }
    button {
      margin: 5px;
      padding: 10px;
      font-size: 16px;
      cursor: pointer;
    }
    .seed {
      margin: 10px;
      padding: 10px;
      background-color: #8b4513;
      color: white;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h1>AGRO IMPERIUM</h1>
  <div id="money">Dinheiro: R$ <span id="cash">0</span></div>

  <div id="store">
    <h2>Loja</h2>
    <button onclick="buyTile()">Comprar terreno (R$50)</button><br>
    <button onclick="buyWorker()">Contratar trabalhador (plantar autom√°tico) (R$750)</button><br>
    <button onclick="buyHarvester()">Contratar colheitadeira autom√°tica (R$1000)</button>
    <div>Terrenos dispon√≠veis: <span id="tilesCount">5</span></div>
    <div>Trabalhadores plantadores: <span id="workersCount">0</span></div>
    <div>Trabalhadores colhedores: <span id="harvestersCount">0</span></div>
    
    <div class="seed">
      <button onclick="buySeed('abobora', 200)">Comprar Semente de Ab√≥bora (R$200)</button>
    </div>
    <div class="seed">
      <button onclick="buySeed('melancia', 350)" id="buyMelanciaBtn" disabled>Comprar Semente de Melancia (R$350)</button>
    </div>
  </div>

  <div id="farm"></div>

  <script>
    const farm = document.getElementById('farm');
    const cashDisplay = document.getElementById('cash');
    const tilesCountDisplay = document.getElementById('tilesCount');
    const workersCountDisplay = document.getElementById('workersCount');
    const harvestersCountDisplay = document.getElementById('harvestersCount');
    const buyMelanciaBtn = document.getElementById('buyMelanciaBtn');

    let money = 0;
    let maxTiles = 5;
    let workers = 0;
    let harvesters = 0;
    let hasAbobora = false;
    let hasMelancia = false;
    let tiles = [];
    let currentSeed = 'milho'; // Come√ßa com milho

    function updateUI() {
      cashDisplay.textContent = money;
      tilesCountDisplay.textContent = maxTiles;
      workersCountDisplay.textContent = workers;
      harvestersCountDisplay.textContent = harvesters;
      buyMelanciaBtn.disabled = !hasAbobora;
    }

    function createTile() {
      const tile = document.createElement('div');
      tile.className = 'tile';
      tile.dataset.state = 'empty';
      tile.textContent = 'üå±';
      tile.addEventListener('click', () => handleClick(tile));
      farm.appendChild(tile);
      tiles.push(tile);
    }

    for (let i = 0; i < maxTiles; i++) {
      createTile();
    }

    function handleClick(tile) {
      if (tile.dataset.state === 'empty') {
        plant(tile);
      } else if (tile.dataset.state === 'grown') {
        harvest(tile);
      }
    }

    function getSeedIcon(seed) {
      switch(seed) {
        case 'abobora': return 'üéÉ';
        case 'melancia': return 'üçâ';
        default: return 'üåΩ';
      }
    }

    function plant(tile, fast = false) {
      tile.classList.add('planted');
      tile.dataset.state = 'planted';
      tile.dataset.seed = currentSeed;
      tile.textContent = getSeedIcon(currentSeed);

      setTimeout(() => {
        tile.classList.remove('planted');
        tile.classList.add('grown');
        tile.dataset.state = 'grown';
        tile.textContent = getSeedIcon(tile.dataset.seed);
      }, fast ? 3000 : 5000);
    }

    function harvest(tile) {
      const seed = tile.dataset.seed;
      tile.classList.remove('grown');
      tile.dataset.state = 'empty';
      tile.textContent = 'üå±';

      let harvestValue = 10;
      if (seed === 'abobora') {
        harvestValue = 15;
      } else if (seed === 'melancia') {
        harvestValue = 20;
      }
      
      money += harvestValue;
      updateUI();
    }

    function buyTile() {
      if (money >= 50) {
        money -= 50;
        maxTiles++;
        createTile();
        updateUI();
      } else {
        alert('Dinheiro insuficiente!');
      }
    }

    function buyWorker() {
      if (money >= 750) {
        money -= 750;
        workers++;
        updateUI();
      } else {
        alert('Dinheiro insuficiente!');
      }
    }

    function buyHarvester() {
      if (money >= 1000) {
        money -= 1000;
        harvesters++;
        updateUI();
      } else {
        alert('Dinheiro insuficiente!');
      }
    }

    function buySeed(seed, price) {
      if (money >= price) {
        money -= price;
        if (seed === 'abobora') {
          hasAbobora = true;
          currentSeed = 'abobora';
        } else if (seed === 'melancia' && hasAbobora) {
          hasMelancia = true;
          currentSeed = 'melancia';
        } else {
          alert('Voc√™ precisa comprar a semente de ab√≥bora antes!');
          return;
        }
        updateUI();
        alert(`Voc√™ comprou a semente de ${seed}!`);
      } else {
        alert('Dinheiro insuficiente!');
      }
    }

    // Trabalhadores que PLANTAM automaticamente
    setInterval(() => {
      if (workers > 0) {
        let planted = 0;
        tiles.forEach(tile => {
          if (tile.dataset.state === 'empty' && planted < workers) {
            plant(tile, true);
            planted++;
          }
        });
      }
    }, 2000);

    // Trabalhadores que COLHEM automaticamente
    setInterval(() => {
      if (harvesters > 0) {
        let harvested = 0;
        tiles.forEach(tile => {
          if (tile.dataset.state === 'grown' && harvested < harvesters) {
            harvest(tile);
            harvested++;
          }
        });
      }
    }, 2000);

    updateUI();
  </script>
</body>
</html>
